<!--# 🎵 اپلیکیشن دسکتاپ فروشگاه موسیقی Chinook

یک اپلیکیشن دسکتاپ کامل و کاربردی برای مدیریت فروشگاه موسیقی Chinook که با **پایتون**، **Tkinter** و **SQL Server** توسعه داده شده است. این پروژه نمایشی جامع از یک **معماری سه لایه** مستحکم و اصول پیشرفته مهندسی نرم‌افزار است.

این پروژه فراتر از مجموعه‌ای از اسکریپت‌هاست؛ یک اپلیکیشن کامل و قابل نصب است که به کاربران اجازه می‌دهد از طریق یک رابط کاربری گرافیکی (GUI) تمیز و واکنش‌گرا با دیتابیس تعامل داشته باشند.

---

## 🚀 دموی زنده برنامه (GIF)

*(اینجا بهترین مکان برای قرار دادن یک GIF کوتاه از کار با برنامه است. این کار تأثیر فوق‌العاده‌ای دارد!)*

![دموی برنامه](_assets/demo.gif)

---

## ✅ قابلیت‌های کلیدی

-   **مشاهده پرفروش‌ترین ترک‌ها:** دریافت یک لیست آنی و اسکرول‌پذیر از ترک‌های موسیقی پرفروش.
-   **مرور آلبوم‌های هنرمندان:** مشاهده یک لیست جامع از تمام آلبوم‌ها به تفکیک هنرمند.
-   **بررسی فاکتورها:** جستجو و مشاهده تاریخچه فاکتورهای شخصی.
-   **ثبت فاکتور جدید:** یک فرم کامل و چند مرحله‌ای برای ثبت فاکتور مشتری و افزودن آیتم‌ها به سفارش.
-   **رابط کاربری واکنش‌گرا (Responsive):** پنجره برنامه قابل تغییر اندازه است و تمام اجزا به زیبایی با چیدمان جدید سازگار می‌شوند.

---

## 🏛️ نکات برجسته فنی و معماری

هدف اصلی این پروژه، پیاده‌سازی عملی معماری نرم‌افزار حرفه‌ای و الگوهای طراحی بود.

### ۱. **معماری سه لایه (3-Layer Architecture)**
برنامه به طور کامل به سه لایه منطقی تقسیم شده تا تفکیک مسئولیت‌ها (Separation of Concerns)، قابلیت نگهداری و مقیاس‌پذیری تضمین شود:
-   **UI (لایه رابط کاربری):** ساخته شده با Tkinter. تنها مسئول نمایش داده و دریافت ورودی کاربر است و هیچ اطلاعی از دیتابیس ندارد.
-   **BLL (لایه منطق تجاری / سرویس):** "مغز" اپلیکیشن. مسئول اعتبارسنجی، قوانین تجاری و هماهنگی بین لایه‌های UI و DAL.
-   **DAL (لایه دسترسی به داده):** تنها لایه‌ای که با دیتابیس ارتباط برقرار می‌کند. مسئول اجرای کوئری‌های SQL و Stored Procedure ها.

![دیاگرام معماری](https://github.com/mehranmohammadiii/MusicStore/blob/master/APP/MyPackage/UI/Images/_%D9%86%D9%85%D9%88%D8%AF%D8%A7%D8%B1%20%D8%A8%D8%AF%D9%88%D9%86%20%D9%86%D8%A7%D9%85_.drawio%20(1).png?raw=true)

### ۲. **الگوی طراحی تزریق وابستگی (Dependency Injection)**
به جای استفاده از الگوی Singleton، مدیر اتصال دیتابیس یک بار در ابتدای برنامه ساخته شده و به لایه سرویس **تزریق** می‌شود، که آن هم به نوبه خود آن را به لایه دسترسی به داده تزریق می‌کند. این رویکرد باعث می‌شود کد:
-   **شفاف** باشد: وابستگی‌ها صریح و واضح هستند.
-   **بسیار قابل تست** باشد: امکان Mock کردن اتصال دیتابیس در تست‌های واحد را فراهم می‌کند.
-   **انعطاف‌پذیر** باشد: به راحتی برای پیکربندی‌های مختلف دیتابیس قابل تطبیق است.

### ۳. **یکپارچه‌سازی پیشرفته با SQL Server**
-   **Stored Procedures:** تمام منطق‌های پیچیده تجاری از طریق Stored Procedure ها اجرا می‌شوند تا کد اپلیکیشن از کوئری‌های SQL پیچیده تمیز بماند.
-   **Triggers:** از تریگرهای پیشرفته برای اعمال قوانین تجاری پیچیده (مانند جلوگیری از ثبت فاکتور تکراری روزانه) مستقیماً در سطح دیتابیس استفاده شده است.
-   **مدیریت خطای حرفه‌ای:** اپلیکیشن به زیبایی پیام‌های خطای `RAISERROR` از تریگرهای SQL را دریافت کرده و آن‌ها را به صورت پیام‌های قابل فهم به کاربر نمایش می‌دهد.

### ۴. **پیکربندی خارجی (External Configuration)**
رشته اتصال به دیتابیس در کد هاردکد نشده است. این اطلاعات از یک فایل خارجی `config.ini` خوانده می‌شود که به هر کاربری اجازه می‌دهد به راحتی اپلیکیشن را برای سرور دیتابیس خودش پیکربندی کند.

### ۵. **ساخت فایل اجرایی (Executable)**
کل اپلیکیشن با استفاده از `PyInstaller` در یک **فایل `.exe` واحد و مستقل** بسته‌بندی شده که توزیع و اجرای آن را بر روی هر کامپیوتر ویندوزی آسان می‌کند.

---

## 📦 ساختار پروژه

```plaintext
Chinook-Desktop-App/
│
├── MyPackage/
│   ├── __init__.py         # این پوشه را به عنوان یک پکیج پایتون معرفی می‌کند
│   ├── UI/                 # لایه رابط کاربری (فرم‌ها و پنجره‌های Tkinter)
│   ├── services/           # لایه منطق تجاری (کلاس‌های سرویس)
│   └── database/           # لایه دسترسی به داده (کلاس‌های DAL و اتصال به دیتابیس)
│
├── _assets/                # پوشه نگهداری عکس‌ها و دیاگرام برای README
│
├── main.py                 # نقطه ورود برای اجرای اپلیکیشن
├── requirements.txt        # لیست پکیج‌های پایتون مورد نیاز
├── config.ini              # فایل پیکربندی خارجی دیتابیس
└── README.md
## 🛠️ راهنمای نصب و اجرا

برای اجرای این برنامه دو راه وجود دارد:

### 🅰️ برای کاربران نهایی (روش آسان)

این روش برای کسانی است که فقط می‌خواهند برنامه را اجرا کنند.

**1. دانلود فایل برنامه:**
- به بخش **https://github.com/mehranmohammadiii/MusicStore** این ریپازیتوری بروید.
- آخرین نسخه (مثلاً `v1.0.0`) را پیدا کرده و فایل `MusicStore_v1.0.zip` را دانلود کنید.

**2. پیش‌نیازها:**
- **دیتابیس:** شما باید به یک سرور SQL Server دسترسی داشته باشید که دیتابیس `Chinook` روی آن بازگردانی شده باشد.
- **درایور:** درایور رسمی ODBC مایکروسافت برای SQL Server را از لینک زیر دانلود و نصب کنید (نصب آن بسیار ساده است):
  - **[لینک دانلود درایور ODBC نسخه 17](https://aka.ms/msodbcsql17)**

**3. پیکربندی و اجرا:**
- فایل `MusicStore_v1.0.zip` را از حالت فشرده خارج کنید. داخل آن سه فایل وجود دارد: `main.exe`, `config.ini`, و `README.txt`.
- فایل `config.ini` را با یک ویرایشگر متن (مانند Notepad) باز کرده و اطلاعات سرور SQL Server خودتان را در آن وارد کنید.
- فایل `config.ini` را ذخیره کنید.
- با دوبار کلیک کردن روی `main.exe` برنامه را اجرا کنید و لذت ببرید!

### 🅱️ برای توسعه‌دهندگان (روش پیشرفته)

این روش برای کسانی است که می‌خواهند کد را اجرا، بررسی یا توسعه دهند.

**1. کلون کردن ریپازیتوری:**
```bash
git clone https://github.com/mehranmohammadiii/MusicStore.git
cd MusicStore

2. ایجاد و فعال‌سازی محیط مجازی:```bash
python -m venv venv
.\venv\Scripts\activate # در ویندوز

source venv/bin/activate # در مک/لینوکس


**3. نصب پکیج‌های مورد نیاز:**
```bash
pip install -r requirements.txt


4. پیکربندی دیتابیس:
مطمئن شوید دیتابیس Chinook روی نمونه SQL Server شما نصب و قابل دسترس است.
فایل config.ini را با اطلاعات سرور خود ویرایش کنید.

5. اجرای برنامه:

python main.py

